import tkinter as tk
from math import log10

def calculer_rapport():
    try:
        tfrs = float(entry_tfrs.get())
        ferritine = float(entry_ferritine.get())

        if ferritine <= 0:
            resultat.set("La ferritine doit être supérieure à 0.")
            return

        rapport = tfrs / log10(ferritine)
        resultat.set(f"Le rapport TfRs/log(ferritine) est : {rapport:.2f}\n\n"
                     "Un rapport <1 en présence d'une maladie chronique est en faveur d'une anémie inflammatoire. "
                     "Un rapport <1 est en faveur d'une carence martiale.")
    except ValueError:
        resultat.set("Veuillez entrer des valeurs numériques valides.")

# Création de la fenêtre principale
fenetre = tk.Tk()
fenetre.title("Calculateur TfRs/log(ferritine)")

# Création des widgets
label_tfrs = tk.Label(fenetre, text="TfRs (mg/L):")
label_tfrs.pack(pady=5)

entry_tfrs = tk.Entry(fenetre)
entry_tfrs.pack(pady=5)

label_ferritine = tk.Label(fenetre, text="Ferritine (µg/L):")
label_ferritine.pack(pady=5)

entry_ferritine = tk.Entry(fenetre)
entry_ferritine.pack(pady=5)

bouton_calculer = tk.Button(fenetre, text="Calculer le TfRs/log(ferritine)", command=calculer_rapport)
bouton_calculer.pack(pady=20)

resultat = tk.StringVar()
label_resultat = tk.Label(fenetre, textvariable=resultat, wraplength=300, justify="left")
label_resultat.pack(pady=20)

# Lancement de la boucle principale
fenetre.mainloop()
